<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Images</title>
    <style>
        body {
            font-family :Verdana, Geneva, Tahoma, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
        }

        .container {
            max-width: 80%;
            margin: 20px auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            padding: 20px;
        }

        .container h1 {
            text-align: center;
            font-weight: 500;
        }

        .user-images {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            grid-gap: 35px;
        }

        .user-image {
            /* width: 100%; */
            /* max-height: 200px; */
            border-radius: 8px;
            overflow: hidden;
            margin: 20px 0;
            background-color: #f2f2f2;
            /* box-shadow: 0 5px 10px rgba(0, 0, 0, 0.4); */
        }

        .user-image img {
            width: 100%;
            object-fit: contain;
        }

        .user-name{
            text-align: center;
           
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>User Images</h1>
        <div class="user-images" id="userImages"></div>
    </div>

    <script>

        // The code below renders images asynchronously(using callback). This means that the HTML content can load first, and then the script fetches the images and adds them to the page. 
        document.addEventListener("DOMContentLoaded", function () {
            const imageUrls = [
                { "image": "https://randomuser.me/api/portraits/men/1.jpg", "name": "John Doe" },
                { "image": "https://randomuser.me/api/portraits/women/2.jpg", "name": "Jane Smith" },
                { "image": "https://randomuser.me/api/portraits/men/3.jpg", "name": "Alex Johnson" },
                { "image": "https://randomuser.me/api/portraits/women/4.jpg", "name": "Emily Brown" },
                { "image": "https://randomuser.me/api/portraits/men/5.jpg", "name": "Michael Wilson" },
                { "image": "https://randomuser.me/api/portraits/women/6.jpg", "name": "Sarah Lee" },
                { "image": "https://randomuser.me/api/portraits/men/7.jpg", "name": "Daniel Taylor" },
                { "image": "https://randomuser.me/api/portraits/women/8.jpg", "name": "Olivia Martinez" },
                { "image": "https://randomuser.me/api/portraits/men/9.jpg", "name": "William Anderson" },
                { "image": "https://randomuser.me/api/portraits/women/10.jpg", "name": "Sophia Hernandez" },
                { "image": "https://randomuser.me/api/portraits/men/11.jpg", "name": "James Garcia" },
                { "image": "https://randomuser.me/api/portraits/women/12.jpg", "name": "Isabella Young" },
                { "image": "https://randomuser.me/api/portraits/men/13.jpg", "name": "Benjamin King" },
                { "image": "https://randomuser.me/api/portraits/women/14.jpg", "name": "Chloe Lewis" },
                { "image": "https://randomuser.me/api/portraits/men/15.jpg", "name": "Ethan Hall" },
                { "image": "https://randomuser.me/api/portraits/women/16.jpg", "name": "Mia Allen" },
                { "image": "https://randomuser.me/api/portraits/men/17.jpg", "name": "Alexander Green" },
                { "image": "https://randomuser.me/api/portraits/women/18.jpg", "name": "Emma Adams" },
                { "image": "https://randomuser.me/api/portraits/men/19.jpg", "name": "Charlotte Baker" },
                { "image": "https://randomuser.me/api/portraits/women/20.jpg", "name": "Liam Nelson" },
                { "image": "https://randomuser.me/api/portraits/men/21.jpg", "name": "Ava Roberts" },
                { "image": "https://randomuser.me/api/portraits/women/22.jpg", "name": "Noah Wood" },
                { "image": "https://randomuser.me/api/portraits/men/23.jpg", "name": "Amelia Ross" },
                { "image": "https://randomuser.me/api/portraits/women/24.jpg", "name": "Logan Evans" },
                { "image": "https://randomuser.me/api/portraits/men/25.jpg", "name": "Ella Rivera" }
            ];

            const userImagesContainer = document.getElementById('userImages');

            // Preloading images
            // Before appending images to the container, the code preloads each image using the Image object. This technique ensures that the images are cached by the browser before they are actually displayed on the page
            imageUrls.forEach(user => {
                const imageUrl = user.image;
                const img = new Image();
                img.src = imageUrl;
            });

            // Appending images to the container
            // Instead of appending each image individually to the DOM inside a loop, the code constructs the entire set of DOM elements for images and their associated names in memory first, and then appends them all at once. This reduces the number of interactions with the DOM, which can be relatively slow, especially when done repeatedly.
            imageUrls.forEach(user => {
                const imageUrl = user.image;
                const userName = user.name;
                const imageElement = document.createElement('div');
                imageElement.classList.add('user-image');
                imageElement.innerHTML = `<img src="${imageUrl}" alt="${userName}"><p class="user-name">${userName}</p>`;
                userImagesContainer.appendChild(imageElement);
            });
        });
    </script>
</body>

</html>